package ventanas;

import modelo.Configuracion;
import java.util.Arrays;
import java.util.List;
import javafx.application.Application;
import javafx.geometry.Pos;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.control.RadioButton;
import javafx.scene.control.Slider;
import javafx.scene.control.ToggleGroup;
import javafx.scene.effect.DropShadow;
import javafx.scene.image.ImageView;
import javafx.scene.layout.AnchorPane;
import javafx.scene.layout.Background;
import javafx.scene.layout.HBox;
import javafx.scene.layout.VBox;
import javafx.scene.paint.Color;
import javafx.scene.text.Font;
import javafx.stage.Stage;
import javafx.stage.StageStyle;

public class VenConfiguracion extends Application{
    private final AnchorPane root = new AnchorPane();
    private final Slider deslizador = new Slider();
    private final Button volver = new Button("Regresar");
    private final Button guardar = new Button("Guardar");
    private final ImageView fondo = new ImageView("/recursos/Fondo_Config.png");
    private final RadioButton rdV = new RadioButton("Visible");
    private final RadioButton rdO = new RadioButton("Oculto");
    public VenConfiguracion() {
        organizarRoot();
    }
    private void organizarRoot() {
        fondo.setFitHeight(360);
        fondo.setFitWidth(710);
        ImageView titulo = new ImageView("/recursos/tituloConfig.png");
        titulo.setFitHeight(100);
        titulo.setFitWidth(660);
        AnchorPane.setTopAnchor(titulo,10.0);
        AnchorPane.setLeftAnchor(titulo, 20.0);
        VBox controles = seccionControles();
        AnchorPane.setTopAnchor(controles, 130.0);
        AnchorPane.setLeftAnchor(controles, 60.0);
        HBox botones = new HBox(20);
        botones.getChildren().addAll(guardar,volver);
        botones.setAlignment(Pos.CENTER);
        AnchorPane.setTopAnchor(botones, 250.0);
        AnchorPane.setLeftAnchor(botones, 250.0);
        root.getChildren().addAll(fondo,titulo,controles,botones);
    }
    private VBox seccionControles(){
        VBox controles = new VBox(10);
        HBox controlOponente = new HBox(10);
        Label oponentes = new Label ("Cantidad de oponentes ");
        oponentes.setTextFill(Color.DARKBLUE);
        oponentes.setFont(Font.loadFont("file:src/recursos/Harry Potter.TTF", 30));
        controlOponente.getChildren().addAll(oponentes,deslizador);
        HBox controlVisibilidad = new HBox(10);
        Label vl = new Label ("Visibilidad de cartas de oponentes ");
        vl.setTextFill(Color.DARKBLUE);
        vl.setFont(Font.loadFont("file:src/recursos/Harry Potter.TTF", 30));
        ToggleGroup group = new ToggleGroup();
        rdV.setFont(Font.loadFont("file:src/recursos/Harry Potter.TTF", 20));
        rdO.setFont(Font.loadFont("file:src/recursos/Harry Potter.TTF", 20));
        rdV.setToggleGroup(group);
        rdO.setToggleGroup(group);
        controlVisibilidad.getChildren().addAll(vl,rdV,rdO);
        controles.setAlignment(Pos.CENTER);
        controles.getChildren().addAll(controlOponente,controlVisibilidad);
        return controles;
    }
    private void configBotones(Stage actual){
        deslizador.setMin(1);
        deslizador.setMax(2);
        //deslizador.setValue(LOTERIA.configuracion.getNumJugadores());
        deslizador.setMajorTickUnit(1);
        deslizador.setMinorTickCount(0);
        deslizador.setShowTickMarks(true);
        deslizador.setShowTickLabels(true);
        deslizador.setSnapToTicks(true);
        deslizador.setStyle("-fx-font-family: Harlow Solid Italic; -fx-font-size: 20;-fx-font-weight: bold");
        List<Button> arrBotones = Arrays.asList(guardar,volver);
        arrBotones.forEach(b->{
        b.setMinWidth(100);
        b.setMinHeight(45);
        b.setFont(Font.loadFont("file:src/recursos/Harry Potter.TTF", 25));
        b.setStyle("-fx-background-color: #F7FBFC");
        b.setAlignment(Pos.CENTER);
        b.setEffect(new DropShadow());
        });  
    }
    @Override
    public void start(Stage primaryStage) {
        Scene scene = new Scene(root,700,350);
        configBotones(primaryStage);
        primaryStage.setTitle("Configuraciones");
        primaryStage.setResizable(false);
        scene.setFill(null);
        primaryStage.initStyle(StageStyle.UNDECORATED);
        scene.setFill(Color.TRANSPARENT);
        primaryStage.setScene(scene);
        primaryStage.show();    
    }    
    public AnchorPane getRoot() {
        return root;
    }
}
